# Decibel
Официальный репозиторий антивирусной программы "Децибел" на интернет площадке GitHub. Все версии программы, все пояснения и комментарии к релизам. Официальный сайт программы: https://decibel.tilda.ws
История создания
С чего всё начиналось..
Раньше я учился в простой деревенской школе, где часто отключали электричество, где было очень старое оборудование, а уроки, на которых мы делали тесты на компьютерах в кабинете информатики, превращались в мучения из-за компьютеров, которые работали на Windows 2000 и постоянно отключались. В то время я не особо интересовался программированием и мне было достаточно моих базовых навыков пользования компьютером
Но потом всё изменилось. Я перешёл в новую школу, в которой в каждом кабинете стоял отдельный современный компьютер. На них учителя показывают презентации, видео, и многое другое! Да и сами ученики в нашей школе вместо того, чтобы просто выучить параграф, и рассказывать его у доски, могут подготовить на урок мини-проект, показать презентацию, рассказать что-то интересное.
При подготовке различных проектов по разным предметам мне приходилось делать презентации и сохранять их на флешке. Неоднократно я стал замечать, что при подключении флешки к компьютеру, на ней появилась какая-то странная папка под названием Vid001. Я долгое время не мог понять, что это за папка, ведь к тому времени я не имел больших навыков работы с компьютером.
Как только я вставил флешку в свой домашний ноутбук, я заметил, что эта папка вовсе никакая не папка, а приложение, которое имеет значок, как у папки. И только после того, как системный антивирус стал выдавать ошибку якобы файл является вирусом, я понял, что это на самом деле за «папка».
Всё это я делал на своём старом ноутбуке, на котором была старая система, где еле работал интернет. Как только на моей флешке появлялся этот файл, я удалял его, и проблема решалась. Но в один день мне срочно понадобилось отредактировать презентацию с флешки. И если раньше я, делая презентацию, кое-как подключался к интернету, и потом уже без интернета копировал презентацию на флешку, то в этот раз мне пришлось редактировать презентацию с флешки используя интернет. И тут-то началось самое интересное! Этот файл стал копироваться в диск C:\ и стоило вставить в мой ноутбук чистую флешку, она сразу же становилась заражённой. Я конечно пробовал удалить вирус при помощи разных антивирусов, но все как один писали, что удаление невозможно из-за того, что файл открыт в другой программе или занят другим процессом. Конечно, я понял, что это происходит из-за того, что вирус постоянно запущен, и это делает его удаление таким сложным. Но самое интересное, что после остановки этого процесса в диспетчере задач появлялась другая проблема…
Суть этой проблемы заключалась в том, что этот вирус маскирует себя под системный файл, в результате чего при попытке удаления вируса из автозапуска у меня появлялось окно ошибки «Требуется разрешение от «СИСТЕМА»» И как бы я не менял администратора, что бы не предпринимал, этот вирус никак не хотел удаляться. Но стоило мне отключить интернет, как вирус стал вести себя по-другому. Я мог просто удалить его, и он удалялся без всяких ошибок.
Как известно, не бывает в мире ничего простого. При подключении к интернету вирус опять вернулся в дело. Оказалось, что этот вирус является майнером, то есть вирусом, который ворует криптовалюту с компьютера. У меня криптовалютч нет, но этот вирус использует значительные ресурсы компьютера, и даже на Windows 7 мой ноутбук начал заметно тормозить. В результате, я заметил, что вирус копирует себя ещё и в папку Temp на диске компьютера. И вот, после удаления вируса и оттуда, я получил желаемый результат. Вирус пропал и больше не появлялся.
И так могло бы продолжаться и дальше, ведь я просто отключал интернет и старался сразу же удалять вирус при подключении её в Usb порт ноутбука.
Тогда в свободное время я подумал «А как вообще создаются вирусы?» и решил сам изучить эту сферу, начал изучать статьи «Как создать вирус».
В то время я изучил создание вирусных программ на язык Batch. Несмотря на свою простоту, он позволял в прямом смысле «творить» с системой много всяких ужасов. А что самое удивительное, так это то, что вирус, который может убить систему, помещается в 8-ми коротких строках кода. Я создавал разные вирусы и проверял их на отдельной операционной системе. Я делал много чего.. Благодаря компиляторам в .exe я создавал вирусы, маскирующие себя под системные файлы и прочее, то есть я просто увлекался программированием.
В конечном итоге, мне стало просто скучно писать программы, которые, во-первых, вирусы, а во-вторых, от них не было никакого толку. И я забросил хобби программирования.
Вскоре мне пришлось готовиться к масштабному проекту по биологии. Мне нужно было скачать кучу информации, оформить лист А0, и на всё это - 2 недели. К тому же мы с завучами нашей школы запланировали один масштабный проект, работа над которым проводилась именно на компьютерах. И в тот момент я «подцепил» со школы ещё один вирус. Этот вирус уже не такой эффективый, но тем не менее удалял системные файлы…
И я решил написать простенькую программу на Batch, которая просто будет удалять файл Vid001.exe со всех дисков. Так, 9 апреля 2022 мною был создан антивирус ВидИк версии 1.0. Это был самый обычный Бат файл, который при запуске сразу же начинал удалять вирус со всех дисков. Программа была очень простая, да и работала не так хорошо, как хотелось бы, ведь вирус на разных операционных системах вёл себя по-разному, и мой антивирус не всегда решал проблему.


Развитие проекта
Как Децибел стал самим собой
Тем не менее, я создал новую версию ВидИк 1.1, в которой появились окошки, сделанные в Visual Basic Script. В последней версии конкретно ВидИка, 1.2 был добавлен дополнительный текст в диалоговое окно. При этом антивирус всё равно оставался эталоном простоты. На тот момент программа удаляла только один вирус, и я не видел смысл дальше обновлять такую простую программу.

Спустя месяц я решился на следующий шаг: я добавил поддержку около 30 вирусов, а сам код стал удалять файлы вирусов не только со всех дисков, но и из Temp, автозапуска, и нескольких других директорий. Сам файл я конвертировал в .еxe при помощи компилятора Bat To Exe Converter. Программа помимо возможности добавить информацию о версии позволяла также обеспечивать выполнение кода для командной строки в фоне. В антивирусе появились дополнительные сервисы очистки папок Temp, да и диалоговые окна приобрели новый текст. Именно этот антивирус стал называться Децибел, получил свой значок и был анонсирован под версией 2.0.0.0. Также была выпущена версия этого антивируса Децибел Educational Editions. Данная версия была сделана специально для учебных заведений и имела минимальное количество диалоговых окон. После этого я внёс ещё одно кардинальное изменение в свой антивирус, а именно- установщик. Программу установки я решил сделать в Advanced Installer. Это очень удобный инструмент для сборки установщиков программ. Там можно задавать свои свойства для объектов и даже создавать события во время установки, например, добавлять устанавливаемые файлы в исключения Windows Defender (Ведь, как известно, любой антивирус будет считать другой антивирус вирусом). Эта версия стала одной из версий с хоть каким-либо интерфейсом. Именно после показа этой версии учительнице информатики, мы решили подать заявку на конференцию.

Кроме того, я решил выйти ещё на более высокий уровень. Несмотря на установщик, моя программа была очень простая, и вирусные базы у неё были достаточно примитивными. После этого вышла версия программы 3.0.0.0, она не получила никаких изменений в интерфейсе, в ней были обновлены только вирусные базы. Также новая версия получила обновлённый интерфейс установщика, а окошки Vbs были доработаны, и программа содержала в себе маленькую игру «Угадайка».

Версия 3.0.1.0 Получила самые актуальные на сегодняшний день вирусные базы, в остальном программа не получила других обновлений


Новые горизоты
Или месяцы программирвания
После того, как я узнал о конференции, я решил полностью изменить свой антивирус. Я стал изучать C# и создал графический интерфейс моего антивируса в Visual Studio, использую платформу Windows Forms. Был обновлён даже значок (хотя его я планирую изменить в версии 3.1.1.0 December_Release), создан новый установщик, а код антивируса был отредактирован и полностью отлажен. Если антивирус нашёл какую-либо вредоносную программу, то в главном меню классический зелёный щит меняется на красный с соответствующим текстом. Появилось меню «Параметры», где можно настроить автозапуск программы, включить или выключить дополнительные сервисы (например, сервис очистки съёмных дисков). Теперь моя антивирусная программа стала гораздо удобнее, серьёзнее и интереснее. Благодаря многофункциональности программы Advanced Installer, я смог сделать установщик, который добавляет все файлы моего антивируса в исключения Windows Defender. К счастью, другие антивирусы, например, Kaspersky, без всяких исключений не обнаруживают мой антивирус как несовместимое ПО (Справочно: если на компьютере установлен Avast и Kaspersky, они не смогут работать вместе. Оба будут писать ошибку об несовместимом программном обеспечении).
В новой версии антивирус имеет множество файлов, дополнительные сервисы. Именно это позволяет улучшать обеспечение безопасности моему антивирусу

Концепция
Концепция работы Децибел антивируса
О дополнительных сервисах
Концепция
Концепция работы моего антивируса следующая: есть графический интерфейс. При нажатии там кнопки «Начать проверку» запускается отдельный файл в папке программы, который отвечает за очистку и удаление вирусов (это и есть конвертированный Bat файл, работающий в фоне). Спустя несколько минут отдельный файл завершает свою работу и запускает отдельный файл с текстовой информацией о завершении проверки.
При выборе в меню пункта «Карантин» программа графического интерфейса проверяет наличие файлов вредоносных программ. Если же файл найден, то на экран выводится надпись об угрозе безопасности. Можно конкретно просмотреть имя угрозы и описание. При нажатии на кнопку «Удалить» приложение графического интерфейса запускает отдельный файл, который предназначен исключительно для удаления оного конкретного вируса. Так угроза удаляется.
Но здесь нюанс. Пользователь в меню может включить функцию защиты в реальном времени. Тогда при запуске системы Exe файл начинает по кругу искать файлы вирусов, если они найдены, то удаляет их. Несмотря на это, данный способ хоть и хорош для обеспечения безопасности жёсткого диска, но плох для съёмных носителей. Ведь код этой программы очень большой, и если кто-то вставит в компьютер свою заражённую флешку, программа проверки просто может не успеть удалить файл вируса, и вирус может спокойно запуститься при помощи, например, Autorun. Именно поэтому я добавил в свой антивирус дополнительные сервисы.
Один из сервисов- сервис обеспечения безопасности съёмных дисковых устройств. В коде этого сервиса есть поддержка удаления Autorun, Vid001, а также некоторых других червей. При этом код этого сервиса довольно компактный, и из-за этого вирус практически мгновенно удаляется с флешки. Но это не всё. Большинство вирусов могут находится в директориях Temp (С:\Windows\Temp, %UserProfile%\AppData\Local\Temp и другие). Именно для очистки этих папок я создал ещё один сервис: Temp.
Ещё один сервис в моём антивирусе – Taskkill (Временно не поддерживается). Практически все вирусы работают в фоне. Некоторые из них маскируются под системные файлы или просто имеют имена, как у системных сервисов. Именно поэтому я и создал сервис Taskkill. Он написан также на Batch. Данный сервис успешно останавливает вредоносные процессы.

Откуда я знаю имена вирусов и их свойства?
Сейчас на различных видеохостингах есть множество каналов, на которых выкладываются видео о тестировании вирусных программ. Именно таким образом я обновляю вирусные базы, делаю наблюдения. Благодаря таким видео мой антивирус успешно удаляет даже самые опасные вирусы, такие как WannaCry, MissisMajor, и другие.

В чём преимущества движка Cmd?
Почему я выбрал именно Cmd? Этот движок позволяет действительно хорошо удалять вирусные файлы. Командной строке не важно запущен ли файл, является ли он системным, ведь некоторые вирусы могут маскировать себя под системные файлы.
Движок Cmd достаточно производительный и даже при конвертации в Exe он может спокойно работать в фоне.
Это всё, конечно, хорошо, но одно из самых главных преимуществ – это низкие аппаратные требования и использование малого количества ресурсов. Командная строка не будет сильно нагружать ваш компьютер. В командной строке автоматически введено ограничение на использование процессора, и чем больше нагружают процессор другие приложения, тем меньше будет грузить процессор сама командная строка.
